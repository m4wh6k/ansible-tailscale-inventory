from ansible_tailscale_inventory import TailscaleStatusType, ansible_inventory_type

mock_tailscale_status_output: TailscaleStatusType = {
    "Version": "1.50.1-abc1234567-abc1234567",
    "TUN": True,
    "BackendState": "Running",
    "AuthURL": "",
    "TailscaleIPs": ["100.100.100.100", "2001:0db8:85a3:0000:0000:8a2e:0370:7334"],
    "Self": {
        "ID": "abc1234567DE",
        "PublicKey": "nodekey:1234567891011121314151617181920212223242526272829303132333435abc",
        "HostName": "macclient",
        "DNSName": "macclient.example-test.ts.net.",
        "OS": "macOS",
        "UserID": 123456789101112131,
        "TailscaleIPs": ["100.100.100.100", "2001:0db8:85a3:0000:0000:8a2e:0370:7334"],
        "Addrs": [
            "100.100.100.100:41641",
            "[2001:0db8:85a3:0000:0000:8a2e:0370:7334]:41641",
            "100.100.100.100:41641",
            "[2001:0db8:85a3:0000:0000:8a2e:0370:7334]:41641",
        ],
        "CurAddr": "",
        "Relay": "abc",
        "RxBytes": 0,
        "TxBytes": 0,
        "Created": "2023-12-10T00:00:00.008494309Z",
        "LastWrite": "0001-01-01T00:00:00Z",
        "LastSeen": "0001-01-01T00:00:00Z",
        "LastHandshake": "0001-01-01T00:00:00Z",
        "Online": True,
        "ExitNode": False,
        "ExitNodeOption": False,
        "Active": False,
        "PeerAPIURL": [
            "http://100.100.101.100:48498",
            "http://[2001:0db8:85a3:0000:0000:8a2e:0370:7344]:48498",
        ],
        "Capabilities": [
            "https://tailscale.com/cap/is-admin",
            "https://tailscale.com/cap/tailnet-lock",
        ],
        "CapMap": {
            "https": None,
            "https://tailscale.com/cap/is-admin": None,
            "https://tailscale.com/cap/ssh": None,
            "https://tailscale.com/cap/tailnet-lock": None,
        },
        "InNetworkMap": True,
        "InMagicSock": False,
        "InEngine": False,
        "KeyExpiry": "2024-04-02T17:00:45Z",
    },
    "Health": None,
    "MagicDNSSuffix": "example-test.ts.net",
    "CurrentTailnet": {
        "Name": "user@example.com",
        "MagicDNSSuffix": "example-test.ts.net",
        "MagicDNSEnabled": True,
    },
    "CertDomains": ["macclient.example-test.ts.net"],
    "Peer": {
        "nodekey:2234567891011121314151617181920212223242526272829303132333435abc": {
            "ID": "bbc1234567DE",
            "PublicKey": "nodekey:2234567891011121314151617181920212223242526272829303132333435abc",
            "HostName": "winserver",
            "DNSName": "winserver.example-test.ts.net.",
            "OS": "windows",
            "UserID": 223456789101112131,
            "TailscaleIPs": [
                "100.100.100.105",
                "2001:0db8:85a3:0000:0000:8a2e:0370:7335",
            ],
            "Tags": ["tag:windows", "tag:dash-server", "tag:server"],
            "Addrs": None,
            "CurAddr": "",
            "Relay": "abc",
            "RxBytes": 0,
            "TxBytes": 0,
            "Created": "2023-11-20T21:00:55.842755699Z",
            "LastWrite": "0001-01-01T00:00:00Z",
            "LastSeen": "0001-01-01T00:00:00Z",
            "LastHandshake": "0001-01-01T00:00:00Z",
            "Online": True,
            "ExitNode": False,
            "ExitNodeOption": True,
            "Active": False,
            "PeerAPIURL": [
                "100.100.100.105",
                "2001:0db8:85a3:0000:0000:8a2e:0370:7335",
            ],
            "InNetworkMap": True,
            "InMagicSock": True,
            "InEngine": False,
        },
        "nodekey:3234567891011121314151617181920212223242526272829303132333435abc": {
            "ID": "cbc1234567DE",
            "PublicKey": "nodekey:2234567891011121314151617181920212223242526272829303132333435abc",
            "HostName": "linserver",
            "DNSName": "linserver.example-test.ts.net.",
            "OS": "linux",
            "UserID": 323456789101112131,
            "TailscaleIPs": [
                "100.100.100.106",
                "2001:0db8:85a3:0000:0000:8a2e:0370:7336",
            ],
            "Tags": ["tag:Linux", "tag:dash-server", "tag:server"],
            "Addrs": None,
            "CurAddr": "",
            "Relay": "abc",
            "RxBytes": 0,
            "TxBytes": 0,
            "Created": "2023-11-20T21:00:55.842755699Z",
            "LastWrite": "0001-01-01T00:00:00Z",
            "LastSeen": "0001-01-01T00:00:00Z",
            "LastHandshake": "0001-01-01T00:00:00Z",
            "Online": True,
            "ExitNode": True,
            "ExitNodeOption": True,
            "Active": False,
            "PeerAPIURL": [
                "100.100.100.106",
                "2001:0db8:85a3:0000:0000:8a2e:0370:7336",
            ],
            "InNetworkMap": True,
            "InMagicSock": True,
            "InEngine": False,
        },
    },
    "User": {
        "123456789101112131": {
            "ID": 123456789101112131,
            "LoginName": "user@example.com",
            "DisplayName": "user",
            "ProfilePicURL": "",
            "Roles": [],
        },
    },
    "ClientVersion": {"LatestVersion": "1.52.0"},
}

expected_ansible_inventory_output: ansible_inventory_type = {
    "_meta": {
        "hostvars": {
            "linserver": {
                "ansible_host": "linserver.example-test.ts.net.",
                "tailscale_ips": [
                    "100.100.100.106",
                    "2001:0db8:85a3:0000:0000:8a2e:0370:7336",
                ],
            },
            "macclient": {
                "ansible_host": "macclient.example-test.ts.net.",
                "tailscale_ips": [
                    "100.100.100.100",
                    "2001:0db8:85a3:0000:0000:8a2e:0370:7334",
                ],
            },
            "winserver": {
                "ansible_host": "winserver.example-test.ts.net.",
                "tailscale_ips": [
                    "100.100.100.105",
                    "2001:0db8:85a3:0000:0000:8a2e:0370:7335",
                ],
            },
        },
    },
    "all": {"hosts": ["winserver", "linserver", "macclient"]},
    "linux": {"hosts": ["linserver"]},
    "macOS": {"hosts": ["macclient"]},
    "offline": {"hosts": []},
    "online": {"hosts": ["winserver", "linserver", "macclient"]},
    "self": {"hosts": ["macclient"]},
    "tag_dash_server": {"hosts": ["winserver", "linserver"]},
    "tag_Linux": {"hosts": ["linserver"]},
    "tag_server": {"hosts": ["winserver", "linserver"]},
    "tag_windows": {"hosts": ["winserver"]},
    "windows": {"hosts": ["winserver"]},
}
